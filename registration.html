<!DOCTYPE html>
<html lang="en">
  <head>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.5.1/css/bulma.min.css">
  </head>
  <body>

    <form class="container">

      <div class="field">
        <label class="label">First Name*</label>
        <div class="control">
          <input class="input" name= "first_name" type="text">
        </div>
      </div>

      <div class="field">
        <label class="label">Last Name*</label>
        <div class="control">
          <input class="input" name= "last_name" type="text">
        </div>
      </div>

      <div class="field">
        <label class="label">Email*</label>
        <div class="control has-icons-left has-icons-right">
          <input class="input is-danger" name= "email" type="text" placeholder="Email input">
          <span class="icon is-small is-left">
            <i class="fa fa-envelope"></i>
          </span>
          <span class="icon is-small is-right">
            <i class="fa fa-warning"></i>
          </span>
        </div>
        <p class="help is-danger">This email is invalid</p>
      </div>

      <div class="field">
        <label class="label">School*</label>
        <div class="control">
          <input class="input" name="school" type="text">
        </div>
      </div>

      <div class="field">
        <div class="control">
          <label class="checkbox">
            <input type="checkbox">
            I agree to share my name, email, and school information with MLH</a>
          </label>
        </div>
      </div>

      <div class="field">
        <label class="label">Major(s)*</label>
        <div class="control">
          <input class="input" name="major" type="text">
        </div>
      </div>

      <div class="field">
        <label class="label">Graduation Year*</label>
        <div class="control">
          <input class="input" name="graduation_year" type="text">
        </div>
      </div>

      <div class="field">
        <label class="label">Ethnicity*</label>
        <div class="control">
          <div class="select">
            <select id="ethnicity">
              <option>Select dropdown</option>
              <option>White or Euro-American</option>
              <option>Black, Afro-Caribbean, or African-American</option>
              <option>LatinX or Hispanic-American</option>
              <option>East Asian or Asian-American</option>
              <option>South Asian or South Asian-American</option>
              <option>Middle Eastern or North African</option>
              <option>Native American or Alaskan Native</option>
              <option>Hawaiian or Pacific Islander</option>
              <option>Not Listed</option>
            </select>
          </div>
        </div>
      </div>

      <div class="field">
        <label class="label">What gender do you identify with?*</label>
        <div class="control">
          <div class="select">
            <select id="gender_identity">
              <option>Select dropdown</option>
              <option>Male</option>
              <option>Female</option>
              <option>Non Binary</option>
              <option>Choose Not to Identify</option>
              <option>Other</option>
            </select>
          </div>
        </div>
      </div>
      
      <div class="field">
        <label class="label">What is your sexual orientation?</label>
        <div class="control">
          <div class="select">
            <select id="sexual_orientation">
              <option>Select dropdown</option>
              <option>Heterosexual</option>
              <option>Homosexual</option>
              <option>Bi-Sexual</option>
              <option>Other</option>
            </select>
          </div>
        </div>
      </div>
      
      <div class="field">
        <label class="label">Resume*</label>
        <div class="control">
          <div class="file">
            <label class="file-label">
              <input class="file-input" name="file" type="file" name="Resume*">
              <span class="file-cta">
                <span class="file-icon">
                  <i class="fa fa-upload"></i>
                </span>
                <span class="file-label">
                  Choose a file…
                </span>
              </span>
            </label>
          </div>
        </div>
      </div>

      <div class="field">
        <div class="control">
          <label class="checkbox">
            <input type="checkbox">
            I allow WHACK to share my resume with sponsors.
          </label>
        </div>
      </div>

      <div class="field">
        <label class="label">Any useful links</label>
        <div class="control">
          <input class="input" name="links" type="text" placeholder="Linkedin, Github, Dribbble">
        </div>
      </div>

      <div class="field">
        <label class="label">Have you attended WHACK before?*</label>
        <div class="control">
          <label  class="checkbox">
            <input type="checkbox"> Yes, as a participant <br/> 
            <input type="checkbox"> Yes, as a volunteer <br/> 
            <input type="checkbox"> Yes, as a mentor or corporate representative <br/> 
            <input type="checkbox"> No
          </label>
        </div>
      </div>

      
      <div class="field">
        <label class="label">Will WHACK be your first hackathon?</label>
        <div class="control">
          <label id="first_hackathon" class="checkbox">
            <input type="checkbox"> Yes <br/> 
            <input type="checkbox"> No
          </label>
        </div>
      </div>

      <div class="field">
        <label class="label">Do you have any dietary restrictions?*</label>
        <div class="control">
          <input class="input" name="dietary_restrictions" type="text">
        </div>
      </div>

      <div class="field">
        <label class="label">Do you require any special accommodations?</label>
        <div class="control">
          <input class="input" name="special_accommodations" type="text">
        </div>
      </div>
      
      <div class="field">
        <label class="label">WHACK aims to be an inclusive and safe space for all participants. Is there anything you’d like us to know to make your WHACK experience more comfortable?</label>
        <div class="control">
          <textarea class="textarea" name="other_notes" placeholder="Text Area"></textarea>
        </div>
      </div>

      <div class="field">
        <label class="label">WHACK will be following the MLH Code of Conduct. Do you agree to abide by the MLH Code of Conduct?*</label>
        <div class="control">
          <label class="checkbox">
            <input type="checkbox"> Yes
          </label>
        </div>
      </div>

      <div class="field">
        <div class="control">
          <label class="checkbox">
            <input type="checkbox">
            I agree to the terms of both the <a href="https://github.com/MLH/mlh-policies/tree/master/prize-terms-and-conditions">MLH Contest Terms and Conditions</a> and the <a href="https://mlh.io/privacy">MLH Privacy Policy</a>. Please note that you may receive pre and post-event informational e-mails and occasional messages about hackathons from MLH as per the MLH Privacy Policy.
          </label>
        </div>
      </div>

      <div class="field is-grouped">
        <div class="control">
          <button id="submit" class="button is-primary">Submit</button>
        </div>
        <div class="control">
          <button class="button is-link">Save</button>
        </div>
      </div>
    </form>

    <script src="jquery-3.1.0.js"></script> 

    <script>
      $( "#submit" ).submit(function( event ) {
 
        // Stop form from submitting normally
        event.preventDefault();
       
        // Get some values from elements on the page:
        var $form = $( this ),
          first_name = $form.find( "input[name='first_name']" ).val(),
          last_name = $form.find( "input[name='last_name']" ).val(),
          email = $form.find( "input[name='email']" ).val(),
          school = $form.find( "input[name='school']" ).val(),
          major = $form.find( "input[name='major']" ).val(),
          graduation_year = $form.find( "input[name='graduation_year']" ).val(),
          ethnicity = $form.find( "input[name='ethnicity']" ).val(),
          gender_identity = $form.find( "input[name='gender_identity']" ).val(),
          ethnicity = $("#ethnicity option:selected").text();
          gender_identity = $("#gender_identity option:selected").text();
          sexual_orientation = $("#sexual_orientation option:selected").text();
          links = $form.find( "input[name='links']" ).val(),
          first_hackathon = $('#first_hackathon').val();
          special_accomodations = $form.find( "input[name='special_accomodations']" ).val(),
          other_notes = $form.find( "input[name='other_notes']" ).val();

        // NOT SURE IF I HANDLE THE FILE CORRECTLY
        $(':file').on('change', function() {
            var file = this.files[0];
            if (file.size > 1024) {
                alert('max upload size is 1k')
            }

            // Also see .name, .type
        });
       
        // Send the data using post
        // TODO(daxisun): confirm with Yada about url.
        var posting = $.post( url, { 'first_name': first_name,  
                                     'last_name': last_name,
                                     'email': email,
                                     'school': school,
                                     'major': major,
                                     'graduation_year':graduation_year,
                                     'ethnicity':ethnicity,
                                     'gender_identity':gender_identity,
                                     'sexual_orientation':sexual_orientation,
                                     'resume': file,
                                     'links':links,
                                     'first_hackathon': first_hackathon == "Yes" ? true : false,
                                     'special_accomodations': special_accomodations,
                                     'other_notes': other_notes
                                   } );
       
      });
    </script>

  </body>
</html>